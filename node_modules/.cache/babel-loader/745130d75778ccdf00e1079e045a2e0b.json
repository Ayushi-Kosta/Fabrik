{"ast":null,"code":"import _slicedToArray from \"C:/Users/User/Downloads/lwmpi_new/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useState, useRef, useEffect, useMemo, useLayoutEffect, createElement } from 'react';\nimport { unmountComponentAtNode, render } from 'react-dom';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from 'react-three-fiber';\nvar v1 = new Vector3();\nvar v2 = new Vector3();\nvar v3 = new Vector3();\n\nfunction defaultCalculatePosition(el, camera, size) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  var widthHalf = size.width / 2;\n  var heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  var deltaCamObj = objectPos.sub(cameraPos);\n  var camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction objectScale(el, camera) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  var vFOV = camera.fov * Math.PI / 180;\n  var dist = objectPos.distanceTo(cameraPos);\n  var scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n\n  if (camera instanceof OrthographicCamera) {\n    return 1 / (scaleFOV / camera.zoom);\n  } else if (camera instanceof PerspectiveCamera) {\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var dist = objectPos.distanceTo(cameraPos);\n    var A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    var B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nvar epsilon = function epsilon(value) {\n  return Math.abs(value) < 1e-10 ? 0 : value;\n};\n\nfunction getCSSMatrix(matrix, multipliers) {\n  var prepend = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var matrix3d = 'matrix3d(';\n\n  for (var i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nvar getCameraCSSMatrix = function (multipliers) {\n  return function (matrix) {\n    return getCSSMatrix(matrix, multipliers);\n  };\n}([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nvar getObjectCSSMatrix = function (scaleMultipliers) {\n  return function (matrix, factor) {\n    return getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n  };\n}(function (f) {\n  return [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1];\n});\n\nvar Html = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _portal$current;\n\n  var children = _ref.children,\n      _ref$eps = _ref.eps,\n      eps = _ref$eps === void 0 ? 0.001 : _ref$eps,\n      style = _ref.style,\n      className = _ref.className,\n      prepend = _ref.prepend,\n      center = _ref.center,\n      fullscreen = _ref.fullscreen,\n      portal = _ref.portal,\n      scaleFactor = _ref.scaleFactor,\n      _ref$sprite = _ref.sprite,\n      sprite = _ref$sprite === void 0 ? false : _ref$sprite,\n      _ref$transform = _ref.transform,\n      transform = _ref$transform === void 0 ? false : _ref$transform,\n      _ref$zIndexRange = _ref.zIndexRange,\n      zIndexRange = _ref$zIndexRange === void 0 ? [16777271, 0] : _ref$zIndexRange,\n      _ref$calculatePositio = _ref.calculatePosition,\n      calculatePosition = _ref$calculatePositio === void 0 ? defaultCalculatePosition : _ref$calculatePositio,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"eps\", \"style\", \"className\", \"prepend\", \"center\", \"fullscreen\", \"portal\", \"scaleFactor\", \"sprite\", \"transform\", \"zIndexRange\", \"calculatePosition\"]);\n\n  var _useThree = useThree(),\n      gl = _useThree.gl,\n      scene = _useThree.scene,\n      camera = _useThree.camera,\n      size = _useThree.size;\n\n  var _useState = useState(function () {\n    return document.createElement('div');\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      el = _useState2[0];\n\n  var group = useRef(null);\n  var old = useRef([0, 0]);\n  var transformOuterRef = useRef(null);\n  var transformInnerRef = useRef(null);\n  var target = (_portal$current = portal == null ? void 0 : portal.current) != null ? _portal$current : gl.domElement.parentNode;\n  useEffect(function () {\n    if (group.current) {\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = \"position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;\";\n      } else {\n        var vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = \"position:absolute;top:0;left:0;transform:translate3d(\" + vec[0] + \"px,\" + vec[1] + \"px,0);transform-origin:0 0;\";\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return function () {\n        if (target) target.removeChild(el);\n        unmountComponentAtNode(el);\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target, transform]);\n  var styles = useMemo(function () {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return _extends({\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%)' : 'none'\n      }, fullscreen && {\n        top: -size.height / 2,\n        left: -size.width / 2,\n        width: size.width,\n        height: size.height\n      }, style);\n    }\n  }, [style, center, fullscreen, size, transform]);\n  var transformInnerStyles = useMemo(function () {\n    return _extends({\n      position: 'absolute',\n      pointerEvents: 'auto'\n    }, style);\n  }, [style]);\n  useLayoutEffect(function () {\n    if (transform) {\n      render( /*#__PURE__*/createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/createElement(\"div\", {\n        ref: ref,\n        className: className,\n        children: children\n      }))), el);\n    } else {\n      render( /*#__PURE__*/createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }), el);\n    }\n  });\n  useFrame(function () {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      var vec = transform ? old.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(old.current[0] - vec[0]) > eps || Math.abs(old.current[1] - vec[1]) > eps) {\n        el.style.display = !isObjectBehindCamera(group.current, camera) ? 'block' : 'none';\n        el.style.zIndex = \"\" + objectZIndex(group.current, camera, zIndexRange);\n\n        if (transform) {\n          var widthHalf = size.width / 2,\n              heightHalf = size.height / 2;\n          var fov = camera.projectionMatrix.elements[5] * heightHalf;\n          var isOrthographicCamera = camera.isOrthographicCamera,\n              top = camera.top,\n              left = camera.left,\n              bottom = camera.bottom,\n              right = camera.right;\n          var cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          var cameraTransform = isOrthographicCamera ? \"scale(\" + fov + \")translate(\" + epsilon(-(right + left) / 2) + \"px,\" + epsilon((top + bottom) / 2) + \"px)\" : \"translateZ(\" + fov + \"px)\";\n          var matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : fov + \"px\";\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = \"\" + cameraTransform + cameraMatrix + \"translate(\" + widthHalf + \"px,\" + heightHalf + \"px)\";\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((scaleFactor || 10) / 400));\n          }\n        } else {\n          var scale = scaleFactor === undefined ? 1 : objectScale(group.current, camera) * scaleFactor;\n          el.style.transform = \"translate3d(\" + vec[0] + \"px,\" + vec[1] + \"px,0) scale(\" + scale + \")\";\n          old.current = vec;\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\nexport { Html };","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","forwardRef","useState","useRef","useEffect","useMemo","useLayoutEffect","createElement","unmountComponentAtNode","render","Vector3","OrthographicCamera","PerspectiveCamera","useThree","useFrame","v1","v2","v3","defaultCalculatePosition","el","camera","size","objectPos","setFromMatrixPosition","matrixWorld","project","widthHalf","width","heightHalf","height","x","y","isObjectBehindCamera","cameraPos","deltaCamObj","sub","camDir","getWorldDirection","angleTo","Math","PI","objectScale","vFOV","fov","dist","distanceTo","scaleFOV","tan","zoom","objectZIndex","zIndexRange","A","far","near","B","round","undefined","epsilon","value","abs","getCSSMatrix","matrix","multipliers","prepend","matrix3d","i","elements","getCameraCSSMatrix","getObjectCSSMatrix","scaleMultipliers","factor","f","Html","_ref","ref","_portal$current","children","eps","style","className","center","fullscreen","portal","scaleFactor","sprite","transform","calculatePosition","props","gl","scene","document","group","old","transformOuterRef","transformInnerRef","target","current","domElement","parentNode","updateMatrixWorld","cssText","vec","appendChild","removeChild","styles","position","top","left","transformStyle","pointerEvents","transformInnerStyles","display","zIndex","projectionMatrix","isOrthographicCamera","bottom","right","cameraMatrix","matrixWorldInverse","cameraTransform","clone","transpose","copyPosition","scale","perspective"],"sources":["C:/Users/User/Downloads/lwmpi_new/node_modules/@react-three/drei/web/Html.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useState, useRef, useEffect, useMemo, useLayoutEffect, createElement } from 'react';\nimport { unmountComponentAtNode, render } from 'react-dom';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from 'react-three-fiber';\n\nconst v1 = new Vector3();\nconst v2 = new Vector3();\nconst v3 = new Vector3();\n\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction objectScale(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const vFOV = camera.fov * Math.PI / 180;\n  const dist = objectPos.distanceTo(cameraPos);\n  const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n\n  if (camera instanceof OrthographicCamera) {\n    return 1 / (scaleFOV / camera.zoom);\n  } else if (camera instanceof PerspectiveCamera) {\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\n\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\n\nconst Html = /*#__PURE__*/forwardRef((_ref, ref) => {\n  var _portal$current;\n\n  let {\n    children,\n    eps = 0.001,\n    style,\n    className,\n    prepend,\n    center,\n    fullscreen,\n    portal,\n    scaleFactor,\n    sprite = false,\n    transform = false,\n    zIndexRange = [16777271, 0],\n    calculatePosition = defaultCalculatePosition\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"eps\", \"style\", \"className\", \"prepend\", \"center\", \"fullscreen\", \"portal\", \"scaleFactor\", \"sprite\", \"transform\", \"zIndexRange\", \"calculatePosition\"]);\n\n  const {\n    gl,\n    scene,\n    camera,\n    size\n  } = useThree();\n  const [el] = useState(() => document.createElement('div'));\n  const group = useRef(null);\n  const old = useRef([0, 0]);\n  const transformOuterRef = useRef(null);\n  const transformInnerRef = useRef(null);\n  const target = (_portal$current = portal == null ? void 0 : portal.current) != null ? _portal$current : gl.domElement.parentNode;\n  useEffect(() => {\n    if (group.current) {\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = \"position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;\";\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = \"position:absolute;top:0;left:0;transform:translate3d(\" + vec[0] + \"px,\" + vec[1] + \"px,0);transform-origin:0 0;\";\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return () => {\n        if (target) target.removeChild(el);\n        unmountComponentAtNode(el);\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target, transform]);\n  const styles = useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return _extends({\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%)' : 'none'\n      }, fullscreen && {\n        top: -size.height / 2,\n        left: -size.width / 2,\n        width: size.width,\n        height: size.height\n      }, style);\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = useMemo(() => _extends({\n    position: 'absolute',\n    pointerEvents: 'auto'\n  }, style), [style]);\n  useLayoutEffect(() => {\n    if (transform) {\n      render( /*#__PURE__*/createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/createElement(\"div\", {\n        ref: ref,\n        className: className,\n        children: children\n      }))), el);\n    } else {\n      render( /*#__PURE__*/createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }), el);\n    }\n  });\n  useFrame(() => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      const vec = transform ? old.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(old.current[0] - vec[0]) > eps || Math.abs(old.current[1] - vec[1]) > eps) {\n        el.style.display = !isObjectBehindCamera(group.current, camera) ? 'block' : 'none';\n        el.style.zIndex = \"\" + objectZIndex(group.current, camera, zIndexRange);\n\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? \"scale(\" + fov + \")translate(\" + epsilon(-(right + left) / 2) + \"px,\" + epsilon((top + bottom) / 2) + \"px)\" : \"translateZ(\" + fov + \"px)\";\n          let matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : fov + \"px\";\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = \"\" + cameraTransform + cameraMatrix + \"translate(\" + widthHalf + \"px,\" + heightHalf + \"px)\";\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((scaleFactor || 10) / 400));\n          }\n        } else {\n          const scale = scaleFactor === undefined ? 1 : objectScale(group.current, camera) * scaleFactor;\n          el.style.transform = \"translate3d(\" + vec[0] + \"px,\" + vec[1] + \"px,0) scale(\" + scale + \")\";\n          old.current = vec;\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\n\nexport { Html };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}